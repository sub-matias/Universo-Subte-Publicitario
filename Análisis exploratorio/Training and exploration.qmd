---
title: "Training and exploration"
author: "Matias S"
format: html
editor: visual
---

```{r setup, echo=FALSE}
library(tidyverse, quietly = TRUE)
library(ggthemes)
theme_set(
  theme_test()
)
library(googlesheets4)
library(kableExtra)
```

#### Acceso a los datos

```{r source-del-script, echo=FALSE}
gs4_deauth()

my_url <- "(https://docs.google.com/spreadsheets/d/1SF5DDTEfbQFSNjvYKQnsQKdsBdE7oJeTywCk92pB7f8/edit#gid=1964221805)"

subte <- googlesheets4::read_sheet(my_url)
subte <- subte %>%
  mutate(Year = as.integer(Periodo)) %>%
  mutate(Periodo = as.factor(Periodo))
```

#### Prop칩sito

Documento que aborda la exploraci칩n de los datos sobre el Subte Publicitario en su primera versi칩n: totalidad de publicidades encontradas sin discriminaci칩n de l칤nea de subterr치neo, a침o y dispositivo.

```{r, echo=FALSE}
subte %>%
  knitr::kable(caption = "Raw Data")%>%
  kable_paper()%>%
  kable_styling(bootstrap_options = "striped", font_size = 11)
```

#### An치lisis exploratorio

#### A침os

Cantidad de publicidades con presencia efectiva en el sistema subterr치neo dentro de la base de datos:

```{r, echo=FALSE}
subte %>%
  group_by(Periodo) %>%
  tally() %>%
  ggplot(aes(x=Periodo, y=n))+
  geom_col(fill="#28806E")+
  ylab("Total Publicidades")+
  xlab("A침os")
```

```{r, echo=FALSE}
subte %>% 
  group_by(Periodo) %>% 
  tally() %>% 
  knitr::kable(
    caption = "Numero de publicidades por a침o",
    col.names = c("A침o", "N칰mero observado")
               )
```

Es factible observar que la primera etapa de la recolecci칩n de publicidades est치 relacionada con la proximidad temporal, en la cual existe mayor probabilidad de encontrar "buenos datos" en a침os cercanos al 2022.

#### L칤neas de subterr치neo

Distribuci칩n de las publicidades en relaci칩n a la l칤nea de subterr치neo en la cual han manifestado su presencia

```{r, echo=FALSE}
#HEX Buenos Aires Subway
subte %>%
  group_by(Linea, Periodo) %>%
  tally() %>%
  ggplot(aes(x=Periodo,y=n,fill = Linea))+
  geom_col()+
  scale_fill_manual(values = c(A="#339BBB",B="#C63C3C",D="#359041"))+
  xlab("A침os")+
  ylab("Publicidades")
```

Es apreciable la abundancia de material posible de recolectar por sobre la L칤nea B de Subte.

#### Orientaci칩n temporal

Dados los par치metros arbitrarios de la base de datos, es inter칠s abordar la variable de `orientaci칩n`

```{r, echo=FALSE}
subte$Orientacion %>%
  unique()
```

```{r, echo=FALSE}
subte %>%
  group_by(Orientacion) %>%
  tally() %>%
  ggplot(aes(x=n, y=Orientacion))+
  geom_col(fill="#28806E")+
  xlab("Publicidades")
```

Si bien la cantidad de publicidades en `subte` es escasa, verifica una hip칩tesis vista en los antecedentes te칩ricos de la tesina acerca de la actividad publicitaria occidental:

游눠 Existe la tendencia publicitaria a referirse al presente, aunque existen aquellas que refieren al futuro o al pasado.

#### Crom치tica y productos

Distribuci칩n de escala crom치tica utilizada por las publicidades en raz칩n de la categor칤a `Productos`

```{r}
subte %>%
  group_by(Cromatica, Producto) %>%
  tally() %>%
  ggplot(aes(x=Producto,y=n,fill=Cromatica))+
  geom_col()+
  ylab("Publicidades")+
  xlab("Producto comercializado")
```

```{r, echo=FALSE}
# Ensayando algunos par치metros modificados y otro estilo de cargada de datos a la que precede
  
ggplot(data = subte)+geom_bar(aes(y = Cromatica),            width = 0.3,fill='tomato2')+theme_test()
```

```{r, echo=FALSE}
#Timelines
subte %>%
  group_by(Year) %>%
  tally() %>%
  ggplot(aes(x=Year,y=n))+
  geom_line()+
  geom_point(size=3)+
  geom_point(size=2,color="white")+
  xlab("A침o")+
  ylab("Publicidades")
```
